# OpenCode Orchestrator - System Architecture

> ì „ì²´ ì‹œìŠ¤í…œ íë¦„, êµ¬ì„± ìš”ì†Œ, ë¦¬ì†ŒìŠ¤ ê´€ë¦¬ì— ëŒ€í•œ ì™„ì „í•œ ê¸°ìˆ  ë¬¸ì„œ

---

## ğŸ¯ ì‹œìŠ¤í…œ ê°œìš”

OpenCode OrchestratorëŠ” **ì´ë²¤íŠ¸ ê¸°ë°˜ ë¶„ì‚° ë‹¤ì¤‘ ì„¸ì…˜ ë³‘ë ¬ ì—ì´ì „íŠ¸ ì‹¤í–‰ ì‹œìŠ¤í…œ**ì…ë‹ˆë‹¤.

### í•µì‹¬ ì„¤ê³„ ì›ì¹™

| ì›ì¹™ | êµ¬í˜„ |
|------|------|
| **ëŠìŠ¨í•œ ê²°í•©** | Event Busë¥¼ í†µí•œ ë¹„ë™ê¸° í†µì‹  |
| **ìˆ˜í‰ í™•ì¥** | ìµœëŒ€ 50ê°œ ë³‘ë ¬ ì„¸ì…˜ ì§€ì› |
| **ë©”ëª¨ë¦¬ ì•ˆì „** | ìë™ GC + ë””ìŠ¤í¬ ì•„ì¹´ì´ë¹™ |
| **ìë™ ë³µêµ¬** | íŒ¨í„´ ê¸°ë°˜ ì—ëŸ¬ í•¸ë“¤ë§ |
| **ì»¨í…ìŠ¤íŠ¸ ê³µìœ ** | ë¶€ëª¨-ìì‹ ì„¸ì…˜ ê°„ ë°ì´í„° ë³‘í•© |

---

## ğŸ›ï¸ ì „ì²´ ì•„í‚¤í…ì²˜ ë‹¤ì´ì–´ê·¸ë¨

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                    USER REQUEST                                           â”‚
â”‚                             (OpenCode Terminal / UI)                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                       â”‚
                                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                            ORCHESTRATOR PLUGIN (src/index.ts)                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚   Session      â”‚  â”‚    Agent       â”‚  â”‚    Tools       â”‚  â”‚   EventBus     â”‚          â”‚
â”‚  â”‚   State Map    â”‚  â”‚  Definitions   â”‚  â”‚   Registry     â”‚  â”‚   (Singleton)  â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚          â”‚                                                            â”‚                   â”‚
â”‚          â–¼                                                            â–¼                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                         PARENT SESSION (Main Execution Loop)                         â”‚ â”‚
â”‚  â”‚                                                                                       â”‚ â”‚
â”‚  â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚ â”‚
â”‚  â”‚   â”‚Commander â”‚â”€â”€â”€â–¶â”‚Architect â”‚â”€â”€â”€â–¶â”‚ Builder  â”‚â”€â”€â”€â–¶â”‚Inspector â”‚â”€â”€â”€â–¶â”‚ Recorder â”‚      â”‚ â”‚
â”‚  â”‚   â”‚   ğŸ¯     â”‚    â”‚   ğŸ—ï¸    â”‚    â”‚   ğŸ”¨     â”‚    â”‚   ğŸ”     â”‚    â”‚   ğŸ’¾     â”‚      â”‚ â”‚
â”‚  â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚ â”‚
â”‚  â”‚                                        â”‚                                             â”‚ â”‚
â”‚  â”‚                             â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                  â”‚ â”‚
â”‚  â”‚                             â”‚ launch_parallel_    â”‚                                  â”‚ â”‚
â”‚  â”‚                             â”‚      agent()        â”‚                                  â”‚ â”‚
â”‚  â”‚                             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                              â”‚
                                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          PARALLEL AGENT MANAGER (src/core/agents/)                        â”‚
â”‚                                                                                           â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚   â”‚                            Component Composition                                â”‚     â”‚
â”‚   â”‚                                                                                 â”‚     â”‚
â”‚   â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚     â”‚
â”‚   â”‚   â”‚   TaskLauncher   â”‚        â”‚   TaskResumer    â”‚        â”‚   TaskPoller    â”‚ â”‚     â”‚
â”‚   â”‚   â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚        â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚        â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚ â”‚     â”‚
â”‚   â”‚   â”‚ â€¢ Create session â”‚        â”‚ â€¢ Resume paused  â”‚        â”‚ â€¢ Poll every 1s â”‚ â”‚     â”‚
â”‚   â”‚   â”‚ â€¢ Set up agent   â”‚        â”‚ â€¢ Restore state  â”‚        â”‚ â€¢ Detect idle   â”‚ â”‚     â”‚
â”‚   â”‚   â”‚ â€¢ Track pending  â”‚        â”‚ â€¢ Continue work  â”‚        â”‚ â€¢ Mark complete â”‚ â”‚     â”‚
â”‚   â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚     â”‚
â”‚   â”‚            â”‚                                                        â”‚          â”‚     â”‚
â”‚   â”‚            â–¼                                                        â–¼          â”‚     â”‚
â”‚   â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚     â”‚
â”‚   â”‚   â”‚   TaskCleaner    â”‚        â”‚  EventHandler    â”‚        â”‚ ConcurrencyCtrl â”‚ â”‚     â”‚
â”‚   â”‚   â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚        â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚        â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚ â”‚     â”‚
â”‚   â”‚   â”‚ â€¢ Schedule GC    â”‚        â”‚ â€¢ session.idle   â”‚        â”‚ â€¢ Max 10/agent  â”‚ â”‚     â”‚
â”‚   â”‚   â”‚ â€¢ Archive to diskâ”‚        â”‚ â€¢ session.deletedâ”‚        â”‚ â€¢ Max 50 total  â”‚ â”‚     â”‚
â”‚   â”‚   â”‚ â€¢ Prune expired  â”‚        â”‚ â€¢ Notify parent  â”‚        â”‚ â€¢ Queue waiting â”‚ â”‚     â”‚
â”‚   â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚     â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                              â”‚                                            â”‚
â”‚                                              â–¼                                            â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚   â”‚                           CHILD SESSIONS (Parallel Pool)                        â”‚     â”‚
â”‚   â”‚                                                                                 â”‚     â”‚
â”‚   â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚     â”‚
â”‚   â”‚   â”‚Session 1â”‚ â”‚Session 2â”‚ â”‚Session 3â”‚ â”‚Session 4â”‚ â”‚Session 5â”‚ â”‚ ... 50  â”‚     â”‚     â”‚
â”‚   â”‚   â”‚ Builder â”‚ â”‚Librarianâ”‚ â”‚Researcherâ”‚ â”‚Inspectorâ”‚ â”‚ Builder â”‚ â”‚         â”‚     â”‚     â”‚
â”‚   â”‚   â”‚   ğŸ”¨    â”‚ â”‚   ğŸ“š    â”‚ â”‚   ğŸ”¬    â”‚ â”‚   ğŸ”    â”‚ â”‚   ğŸ”¨    â”‚ â”‚         â”‚     â”‚     â”‚
â”‚   â”‚   â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚     â”‚
â”‚   â”‚        â”‚           â”‚           â”‚           â”‚           â”‚                       â”‚     â”‚
â”‚   â”‚        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                       â”‚     â”‚
â”‚   â”‚                                    â”‚                                            â”‚     â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                         â”‚
                                         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              EVENT BUS (src/core/bus/)                                    â”‚
â”‚                                                                                           â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚   â”‚                              Event Types (Pub/Sub)                               â”‚    â”‚
â”‚   â”‚                                                                                  â”‚    â”‚
â”‚   â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚    â”‚
â”‚   â”‚   â”‚task.startedâ”‚  â”‚task.completeâ”‚  â”‚task.failed â”‚  â”‚session.idleâ”‚  â”‚mission.* â”‚ â”‚    â”‚
â”‚   â”‚   â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜ â”‚    â”‚
â”‚   â”‚         â”‚               â”‚               â”‚               â”‚               â”‚       â”‚    â”‚
â”‚   â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚    â”‚
â”‚   â”‚                                         â”‚                                        â”‚    â”‚
â”‚   â”‚                                         â–¼                                        â”‚    â”‚
â”‚   â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚    â”‚
â”‚   â”‚   â”‚                           Subscribers                                     â”‚  â”‚    â”‚
â”‚   â”‚   â”‚   â€¢ Toast Notifier      â€¢ Progress Tracker     â€¢ Auto Recovery           â”‚  â”‚    â”‚
â”‚   â”‚   â”‚   â€¢ Parent Session      â€¢ Task Cleaner         â€¢ Shared Context          â”‚  â”‚    â”‚
â”‚   â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚    â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                         â”‚
                                         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                CORE SYSTEMS LAYER                                         â”‚
â”‚                                                                                           â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚   â”‚    Progress     â”‚ â”‚   Auto          â”‚ â”‚   Shared        â”‚ â”‚    Task         â”‚        â”‚
â”‚   â”‚    Tracker      â”‚ â”‚   Recovery      â”‚ â”‚   Context       â”‚ â”‚    Decomposer   â”‚        â”‚
â”‚   â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚ â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€     â”‚ â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”‚ â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚        â”‚
â”‚   â”‚ â€¢ recordSnapshotâ”‚ â”‚ â€¢ handleError   â”‚ â”‚ â€¢ create()      â”‚ â”‚ â€¢ create()      â”‚        â”‚
â”‚   â”‚ â€¢ formatProgressâ”‚ â”‚ â€¢ withRecovery  â”‚ â”‚ â€¢ getMerged()   â”‚ â”‚ â€¢ addTask()     â”‚        â”‚
â”‚   â”‚ â€¢ calculateRate â”‚ â”‚ â€¢ errorPatterns â”‚ â”‚ â€¢ addFinding()  â”‚ â”‚ â€¢ getNextTasks()â”‚        â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚                                                                                           â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚   â”‚   Toast         â”‚ â”‚   Document      â”‚ â”‚   Async         â”‚ â”‚   Background    â”‚        â”‚
â”‚   â”‚   Notifier      â”‚ â”‚   Cache         â”‚ â”‚   Queue         â”‚ â”‚   Commands      â”‚        â”‚
â”‚   â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€     â”‚ â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”‚ â”‚   â”€â”€â”€â”€â”€â”€â”€       â”‚ â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”‚        â”‚
â”‚   â”‚ â€¢ show()        â”‚ â”‚ â€¢ get/set()     â”‚ â”‚ â€¢ workPool()    â”‚ â”‚ â€¢ run/check()   â”‚        â”‚
â”‚   â”‚ â€¢ presets       â”‚ â”‚ â€¢ list/clear()  â”‚ â”‚ â€¢ retryBackoff()â”‚ â”‚ â€¢ kill/list()   â”‚        â”‚
â”‚   â”‚ â€¢ autoToasts    â”‚ â”‚ â€¢ cleanExpired()â”‚ â”‚ â€¢ withTimeout() â”‚ â”‚ â€¢ backgroundJob â”‚        â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚                                                                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“‚ ë””ë ‰í† ë¦¬ êµ¬ì¡°

```
src/
â”œâ”€â”€ index.ts                    # í”ŒëŸ¬ê·¸ì¸ ë©”ì¸ ì—”íŠ¸ë¦¬
â”œâ”€â”€ agents/
â”‚   â”œâ”€â”€ definitions.ts          # 7ê°œ ì—ì´ì „íŠ¸ ì •ì˜
â”‚   â””â”€â”€ subagents/              # ê°œë³„ ì—ì´ì „íŠ¸ í”„ë¡¬í”„íŠ¸
â”œâ”€â”€ core/
â”‚   â”œâ”€â”€ bus/                    # Event Bus (4 files)
â”‚   â”‚   â”œâ”€â”€ index.ts           # Re-exports + singleton
â”‚   â”‚   â”œâ”€â”€ types.ts           # Type aliases
â”‚   â”‚   â”œâ”€â”€ interfaces.ts      # Interfaces
â”‚   â”‚   â””â”€â”€ event-bus.ts       # Implementation
â”‚   â”œâ”€â”€ agents/                 # Parallel Agent Manager (12 files)
â”‚   â”‚   â”œâ”€â”€ manager.ts         # Main facade
â”‚   â”‚   â”œâ”€â”€ manager/           # Composed components
â”‚   â”‚   â”‚   â”œâ”€â”€ task-launcher.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ task-resumer.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ task-poller.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ task-cleaner.ts
â”‚   â”‚   â”‚   â””â”€â”€ event-handler.ts
â”‚   â”‚   â”œâ”€â”€ task-store.ts      # GC + archiving
â”‚   â”‚   â”œâ”€â”€ concurrency.ts     # Rate limiting
â”‚   â”‚   â””â”€â”€ interfaces/
â”‚   â”œâ”€â”€ notification/           # Toast System (5 files)
â”‚   â”œâ”€â”€ cache/                  # Document Cache (5 files)
â”‚   â”œâ”€â”€ progress/               # Progress Tracker (5 files)
â”‚   â”œâ”€â”€ recovery/               # Auto Recovery (5 files)
â”‚   â”œâ”€â”€ session/                # Shared Context (4 files)
â”‚   â”œâ”€â”€ task/                   # Task Decomposer (6 files)
â”‚   â””â”€â”€ queue/                  # Async Utilities (4 files)
â”œâ”€â”€ tools/
â”‚   â”œâ”€â”€ callAgent.ts            # Synchronous agent call
â”‚   â”œâ”€â”€ parallel/               # Parallel agent tools
â”‚   â”œâ”€â”€ background-cmd/         # Background command tools
â”‚   â”œâ”€â”€ search.ts               # grep/glob/mgrep
â”‚   â””â”€â”€ web/                    # Web tools (fetch/search)
â””â”€â”€ shared/
    â”œâ”€â”€ constants.ts            # System constants
    â””â”€â”€ event-types.ts          # Event type enums
```

---

## ğŸ”„ ì‹¤í–‰ íë¦„ ìƒì„¸

### Phase 1: ìš”ì²­ ìˆ˜ì‹  ë° ì´ˆê¸°í™”

```typescript
// src/index.ts - OrchestratorPlugin
export default async function OrchestratorPlugin(input: PluginInput) {
    const { client, directory } = input;
    
    // 1. ì„¸ì…˜ ìƒíƒœ ì´ˆê¸°í™”
    state.sessions.set(sessionId, {
        step: 0,
        maxSteps: UNLIMITED_MODE ? Infinity : 500,
        startedAt: Date.now(),
    });
    
    // 2. ParallelAgentManager ì´ˆê¸°í™”
    ParallelAgentManager.getInstance(client, directory);
    
    // 3. Tools ë° Provider ë°˜í™˜
    return { provider, tools };
}
```

### Phase 2: ì—ì´ì „íŠ¸ ì‹¤í–‰

```typescript
// Commanderê°€ ë‹¤ë¥¸ ì—ì´ì „íŠ¸ í˜¸ì¶œ
await callAgent({ agent: "architect", task: "Break down this task" });

// Architectê°€ íƒœìŠ¤í¬ ë¶„í•´
const hierarchy = TaskDecomposer.create(sessionId, "Main objective");
TaskDecomposer.addTask(sessionId, {
    description: "Build feature A",
    level: 2,
    parallelGroup: "impl",
});
```

### Phase 3: ë³‘ë ¬ íƒœìŠ¤í¬ ì‹¤í–‰

```typescript
// Builderê°€ ë³‘ë ¬ íƒœìŠ¤í¬ ì‹œì‘
const taskId = await launchParallelAgent({
    agent: "builder",
    task: "Implement login component",
});

// TaskLauncher ë‚´ë¶€
async launch(input: LaunchInput): Promise<string> {
    // 1. ë™ì‹œì„± ìŠ¬ë¡¯ íšë“ (ìµœëŒ€ 10ê°œ ëŒ€ê¸°)
    await this.concurrency.acquire(key);
    
    // 2. ìƒˆ OpenCode ì„¸ì…˜ ìƒì„±
    const session = await this.client.session.create({
        directory: this.directory,
    });
    
    // 3. íƒœìŠ¤í¬ ë“±ë¡
    const task: ParallelTask = {
        id: generateId(),
        sessionID: session.id,
        parentSessionID: input.parentSessionID,
        agent: input.agent,
        status: "running",
        startedAt: new Date(),
    };
    this.store.set(task.id, task);
    
    // 4. ì´ë²¤íŠ¸ ë°œí–‰
    EventBus.emit(TASK_EVENTS.STARTED, { taskId: task.id, agent });
    
    // 5. ì—ì´ì „íŠ¸ ë©”ì‹œì§€ ì „ì†¡
    await this.client.session.message({
        sessionId: session.id,
        message: agentPrompt + userPrompt,
    });
    
    return task.id;
}
```

### Phase 4: ì™„ë£Œ ê°ì§€ (Polling)

```typescript
// TaskPoller - 1ì´ˆë§ˆë‹¤ ì‹¤í–‰
async poll(): Promise<void> {
    for (const task of this.store.getRunning()) {
        // 1. ì„¸ì…˜ ìƒíƒœ í™•ì¸
        const events = await this.client.events.list({
            sessionId: task.sessionID,
        });
        
        // 2. idle ì´ë²¤íŠ¸ ê°ì§€
        const isIdle = events.some(e => 
            e.type === "session.idle" && 
            e.timestamp > task.lastCheck
        );
        
        // 3. ì¶œë ¥ ì•ˆì •ì„± í™•ì¸ (5ì´ˆê°„ ë³€í™” ì—†ìŒ)
        const isStable = (Date.now() - task.lastMsgChange) > MIN_STABILITY_MS;
        
        if (isIdle && isStable) {
            // 4. ì™„ë£Œ ì²˜ë¦¬
            task.status = "completed";
            task.completedAt = new Date();
            
            // 5. ì´ë²¤íŠ¸ ë°œí–‰
            EventBus.emit(TASK_EVENTS.COMPLETED, {
                taskId: task.id,
                agent: task.agent,
            });
            
            // 6. ë¶€ëª¨ì—ê²Œ ì•Œë¦¼
            this.notifyParent(task.parentSessionID);
            
            // 7. ì •ë¦¬ ìŠ¤ì¼€ì¤„ë§
            this.scheduleCleanup(task.id);
        }
    }
}
```

### Phase 5: ë¦¬ì†ŒìŠ¤ ì •ë¦¬ (GC)

```typescript
// TaskStore - ìë™ GC
async gc(): Promise<number> {
    const toRemove: string[] = [];
    const toArchive: ParallelTask[] = [];
    
    for (const [id, task] of this.tasks) {
        if (task.status === "running") continue;
        
        const age = Date.now() - (task.completedAt?.getTime() ?? 0);
        
        // 30ë¶„ ì´ìƒ ëœ ì™„ë£Œ íƒœìŠ¤í¬ â†’ ì•„ì¹´ì´ë¸Œ
        if (age > 30 * 60 * 1000 && task.status === "completed") {
            toArchive.push(task);
            toRemove.push(id);
        }
        // 10ë¶„ ì´ìƒ ëœ ì‹¤íŒ¨ íƒœìŠ¤í¬ â†’ ì‚­ì œ
        else if (age > 10 * 60 * 1000 && task.status === "error") {
            toRemove.push(id);
        }
    }
    
    // ë””ìŠ¤í¬ì— ì•„ì¹´ì´ë¸Œ (JSONL í˜•ì‹)
    if (toArchive.length > 0) {
        await this.archiveTasks(toArchive);
        // â†’ .cache/task-archive/tasks_2024-01-16.jsonl
    }
    
    // ë©”ëª¨ë¦¬ì—ì„œ ì œê±°
    for (const id of toRemove) {
        this.tasks.delete(id);
    }
    
    return toRemove.length;
}
```

---

## ğŸ›¡ï¸ ë¦¬ì†ŒìŠ¤ ì•ˆì „ ë³´ì¥

### ë™ì‹œì„± ì œì–´

```typescript
// ConcurrencyController
export class ConcurrencyController {
    private counts: Map<string, number> = new Map();
    private queues: Map<string, Array<() => void>> = new Map();
    
    async acquire(key: string): Promise<void> {
        const limit = this.getConcurrencyLimit(key); // ê¸°ë³¸ 10
        const current = this.counts.get(key) ?? 0;
        
        if (current < limit) {
            this.counts.set(key, current + 1);
            return; // ì¦‰ì‹œ íšë“
        }
        
        // ìŠ¬ë¡¯ ë¶€ì¡± â†’ íì—ì„œ ëŒ€ê¸°
        return new Promise((resolve) => {
            const queue = this.queues.get(key) ?? [];
            queue.push(resolve);
            this.queues.set(key, queue);
        });
    }
    
    release(key: string): void {
        const queue = this.queues.get(key);
        if (queue && queue.length > 0) {
            const next = queue.shift()!;
            next(); // ë‹¤ìŒ ëŒ€ê¸°ì ê¹¨ìš°ê¸°
        } else {
            const current = this.counts.get(key) ?? 0;
            if (current > 0) {
                this.counts.set(key, current - 1);
            }
        }
    }
}
```

### ë©”ëª¨ë¦¬ ì œí•œ

| ë°ì´í„° êµ¬ì¡° | ìµœëŒ€ í¬ê¸° | ì´ˆê³¼ ì‹œ ë™ì‘ |
|------------|----------|-------------|
| `TaskStore.tasks` | 1,000 | Auto GC íŠ¸ë¦¬ê±° |
| `TaskStore.notifications` | 100/parent | FIFO ì œê±° |
| `EventBus.history` | 100 | FIFO ì œê±° |
| `Toast.history` | 50 | FIFO ì œê±° |
| `ProgressTracker.history` | 100/session | FIFO ì œê±° |

### ì—ëŸ¬ ë³µêµ¬

```typescript
// Auto Recovery íŒ¨í„´
const errorPatterns: ErrorPattern[] = [
    {
        pattern: /rate.?limit|429/i,
        category: "rate_limit",
        handler: (ctx) => ({
            type: "retry",
            delay: 1000 * Math.pow(2, ctx.attempt), // ì§€ìˆ˜ ë°±ì˜¤í”„
            attempt: ctx.attempt + 1,
        }),
    },
    {
        pattern: /token.?limit|context.?length/i,
        category: "context_overflow",
        handler: () => ({
            type: "compact",
            reason: "Context limit reached",
        }),
    },
    // ...
];
```

---

## ğŸ“Š ì„±ëŠ¥ ì§€í‘œ

| ë©”íŠ¸ë¦­ | ê°’ |
|--------|-----|
| **ìµœëŒ€ ë³‘ë ¬ ì„¸ì…˜** | 50ê°œ |
| **ê¸°ë³¸ ë™ì‹œì„±/ì—ì´ì „íŠ¸** | 10ê°œ |
| **í´ë§ ê°„ê²©** | 1ì´ˆ |
| **ì™„ë£Œ ê°ì§€ ì§€ì—°** | 3ì´ˆ (ì•ˆì •í™” ëŒ€ê¸°) |
| **ì„¸ì…˜ TTL** | 60ë¶„ |
| **GC íŠ¸ë¦¬ê±°** | 1,000 íƒœìŠ¤í¬ ì´ˆê³¼ ì‹œ |
| **ì•„ì¹´ì´ë¸Œ** | 30ë¶„ í›„ ë””ìŠ¤í¬ ì €ì¥ |

---

## ğŸ§ª í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€

```
Test Suites:
â”œâ”€â”€ unit/event-bus.test.ts         (11 tests)
â”œâ”€â”€ unit/document-cache.test.ts    (8 tests)
â”œâ”€â”€ unit/progress-tracker.test.ts  (12 tests)
â”œâ”€â”€ unit/auto-recovery.test.ts     (10 tests)
â”œâ”€â”€ unit/task-decomposer.test.ts   (12 tests)
â”œâ”€â”€ unit/shared-context.test.ts    (10 tests)
â”œâ”€â”€ unit/toast.test.ts             (9 tests)
â”œâ”€â”€ integration/event-bus-integration.test.ts (9 tests)
â””â”€â”€ ... more

Total: 18 files, 211 tests, ~4.3s
```

---

## ğŸ”— ëª¨ë“ˆ ì˜ì¡´ì„±

```
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   index.ts      â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚                   â”‚                   â”‚
         â–¼                   â–¼                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ agents/manager  â”‚ â”‚  core/bus       â”‚ â”‚  tools/*        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                   â”‚                   â”‚
         â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
         â”‚    â”‚                             â”‚    â”‚
         â–¼    â–¼                             â–¼    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ core/queue      â”‚                 â”‚ core/cache      â”‚
â”‚ core/progress   â”‚                 â”‚ core/session    â”‚
â”‚ core/recovery   â”‚                 â”‚ core/task       â”‚
â”‚ core/notificationâ”‚                â”‚ core/commands   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“ ê²°ë¡ 

ì´ ì•„í‚¤í…ì²˜ëŠ”:

1. **í™•ì¥ ê°€ëŠ¥** - 50ê°œ ë³‘ë ¬ ì„¸ì…˜ìœ¼ë¡œ ëŒ€ê·œëª¨ ì‘ì—… ì²˜ë¦¬
2. **ë©”ëª¨ë¦¬ ì•ˆì „** - ìë™ GC, ë””ìŠ¤í¬ ì•„ì¹´ì´ë¹™, í¬ê¸° ì œí•œ
3. **ìë™ ë³µêµ¬** - íŒ¨í„´ ê¸°ë°˜ ì—ëŸ¬ í•¸ë“¤ë§, ì§€ìˆ˜ ë°±ì˜¤í”„
4. **ëŠìŠ¨í•œ ê²°í•©** - Event Busë¡œ ì»´í¬ë„ŒíŠ¸ ë¶„ë¦¬
5. **ì¶”ì  ê°€ëŠ¥** - ì´ë²¤íŠ¸ íˆìŠ¤í† ë¦¬, ì§„í–‰ë¥  ì¶”ì 

**Enterprise-grade, memory-safe, self-healing distributed agent orchestration.**

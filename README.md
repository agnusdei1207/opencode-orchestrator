<div align="center">
  <img src="assets/logo.png" alt="logo" width="280" />
  <h1>OpenCode Orchestrator</h1>

  <p><b>Next-Gen Autonomous Mastery: Powered by HPFAâ„¢ & MSVPâ„¢</b></p>
  <p><i>Redefining Scalability with Fractal Swarm Intelligence and Multi-Stage Integrity</i></p>

  [![MIT License](https://img.shields.io/badge/license-MIT-blue.svg)](LICENSE)
  [![npm](https://img.shields.io/npm/v/opencode-orchestrator.svg)](https://www.npmjs.com/package/opencode-orchestrator)
  [![Tests](https://img.shields.io/badge/tests-216%20passed-brightgreen.svg)]()
</div>

---

## âš¡ Quick Start

```bash
npm install -g opencode-orchestrator
```

Then in OpenCode, launch your mission:
```bash
/swarm "Architect and Build a Diablo-like Web Game"
```

### ğŸŒŒ **The End of Sequential Limits. The Era of Fractal Mastery.**

Where traditional agents hit a sequential wall, we deploy a fractal swarm. OpenCode Orchestrator is the world's most advanced autonomous engineering platformâ€”a **Titan-Class Execution Engine** designed to conquer missions that break conventional AI. 

By fusing **Fractal Swarm Intelligence (HPFAâ„¢)** with **Continuous Multi-Stage Verification Pipeline (MSVPâ„¢)**, it delivers a level of scale, velocity, and architectural absolute previously considered impossible. Welcome to the final form of autonomous development. No bottlenecks. No limits. Only pure execution.


## ğŸ’ The Four Pillars of Excellence

Weâ€™ve combined industrial-grade reliability with cutting-edge parallel intelligence to redefine whatâ€™s possible in AI coding.

*   **âš¡ Velocity**: Parallelize up to 50 concurrent sessions. What takes hours for others is finished in minutes through **Cognitive Elasticity**.
*   **ğŸ§¬ Scale**: **Fractal Delegation** allows workers to recursively spawn their own sub-agents. No task is too big for a system that can replicate its own intelligence.
*   **ğŸ›¡ï¸ Safety**: Our **MSVP (Multi-Stage Verification Pipeline)** reviews every line of code in parallel "Shadow Sessions" before it ever touches your build.
*   **â™¾ï¸ Trust**: **Iron-Clad Reliability** via Write-Ahead Logging (WAL). Even after a crash, the system replays its history to resume exactly where it was.

---

## â­ Core Philosophy

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ” EXPLORE â†’ ğŸ“ LEARN â†’ ğŸ”„ ADAPT â†’ âš¡ ACT         â”‚
â”‚  Scan        Document    Adjust      Execute      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```


## ğŸš€ The Agents

| Agent | Role | What It Does |
|:------|:-----|:-------------|
| ğŸ¯ **Commander** | Orchestrator | Leads the task, delegates work to other agents, ensures completion |
| ğŸ“‹ **Planner** | Researcher | Analyzes the project, creates the plan, documents findings |
| ğŸ”¨ **Worker** | Implementer | Writes code, modifies files, follows the project's patterns |
| âœ… **Reviewer** | Verifier | Tests changes, checks for errors, confirms quality |



## ğŸ“– Principles

| Principle | What It Means |
|:----------|:--------------|
| ğŸ” **Never Assume** | Always check the actual code and config files first |
| ğŸ“ **Document Everything** | Record patterns and findings for future tasks |
| ğŸ“š **Verify with Evidence** | Run tests, cite sources, complete with proof |
| ğŸ”„ **Adapt to the Project** | Match the project's existing style and patterns |
| ğŸ¤ **Specialized Roles** | Each agent has a clear, focused responsibility |


## ğŸ›ï¸ Hyper-Parallel Architecture: HPFA & MSVP

The orchestrator eliminates the linear reasoning bottleneck of conventional AI agents by shifting from sequential execution to a **Distributed Runtime Unit** paradigm.

### ğŸ§¬ **HPFAâ„¢ (Hyper-Parallel Fractal Architecture)**
HPFA defines a recursive problem-solving model that decomposes massive codebases into atomic task units through a fractal hierarchy.
*   **Fractal Delegation**: Workers are instantiated as autonomous controllers with localized `TaskLauncher` contexts. This enables recursive spawning of sub-agents up to 8 levels deep, mapping complex architectural hierarchies into a parallel execution grid.
*   **Cognitive Concurrency Control**: A dedicated state-machine manages up to 50 concurrent sessions. It monitors success/failure trajectories to dynamically scale concurrency slots, ensuring maximum throughput while maintaining strict rate-limit compliance.

### ğŸ›¡ï¸ **MSVPâ„¢ (Multi-Stage Verification Pipeline)**
MSVP ensures continuous integration integrity by decoupling verification from the implementation lifecycle, treating code review as a parallel background-thread.
*   **Shadow Review Pipeline**: Upon every file-write operation, a parallel reviewer session is instantly snapshotted (Unit-level Verification). This zero-latency audit identifies defects the millisecond they are introduced, without blocking the primary implementation thread.
*   **Global Barrier-Sync Protocol**: Implements a synchronized verification gate. The system enforces a blocking "Barrier" that requires consistency across all distributed units before transitioning to the final Master Review (E2E Integration) and Mission Sealing.

```
              /swarm "Build Complex System"
                           â”‚
           â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
           â•‘     ğŸ¯ COMMANDER â€” Orchestrator       â•‘
           â•‘        (Main Session - Single)        â•‘
           â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•¤â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                               â”‚
           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
           â”‚      ğŸ“‹ PLANNER â€” Create Plan         â”‚
           â”‚    â†’ Outputs: Architectural Grid      â”‚
           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•§â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    â•‘            ğŸ”¥ HPFA PARALLEL GRID (MSVP)           â•‘
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    â”‚               â”‚               â”‚               â”‚
    â–¼               â–¼               â–¼               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ğŸ”¨ WORKER â”‚    â”‚ğŸ”¨ WORKER â”‚    â”‚ğŸ”¨ WORKER â”‚    â”‚ğŸ”¨ WORKER â”‚  <-- Fractal Spawning
â”‚ Module A â”‚    â”‚ Module B â”‚    â”‚ Module C â”‚    â”‚ Module D â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
     â”‚ âš¡ Instant    â”‚ âš¡ Instant    â”‚ âš¡ Instant    â”‚ âš¡ Instant
     â–¼ Review       â–¼ Review       â–¼ Review       â–¼ Review
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚âœ… REVIEWRâ”‚    â”‚âœ… REVIEWRâ”‚    â”‚âœ… REVIEWRâ”‚    â”‚âœ… REVIEWRâ”‚  <-- Stage 1: Unit
â”‚ (Unit-A) â”‚    â”‚ (Unit-B) â”‚    â”‚ (Unit-C) â”‚    â”‚ (Unit-D) â”‚      Verification
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
     â”‚               â”‚               â”‚               â”‚
    â•â–¼â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â–¼â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â–¼â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â–¼â•â•â•â•
    â•‘                â³ SYNC BARRIER                     â•‘
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                               â”‚
           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
           â”‚      âœ… MASTER REVIEWER â€” Final Pass  â”‚
           â”‚         (Cross-module Integration)    â”‚
           â”‚    â†’ Stage 2: E2E & System Integrity  â”‚
           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚
                     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                     â”‚   Seal Conditions â”‚
                     â”‚   Verified?       â”‚
                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         No â†™     â†˜ Yes
                     â™»ï¸ LOOP    ğŸ–ï¸ MISSION
                    (Adaptive)   SEALED
```

### Execution Model (MSVP)

| Phase | Agent | Parallelism | Verification Level |
|:------|:------|:------------|:-------------------|
| 1ï¸âƒ£ Plan | Planner | **Single** | Static Analysis |
| 2ï¸âƒ£ Implement | Workers | **HPFA Parallel** | Direct Coding |
| 3ï¸âƒ£ Unit Pass | Reviewers | **Shadow Parallel** | **1ì°¨ ë¦¬ë·°**: Unit Tests (Async) |
| 4ï¸âƒ£ Final Sync | Barrier | **Blocking** | All Units Verified |
| 5ï¸âƒ£ Integration | Master Reviewer | **Single** | **2ì°¨ ë¦¬ë·°**: Full E2E & Sync |

## Features

| Feature | What It Does |
|:---------|:-------------|
| ğŸš€ **MSVPâ„¢ Pipeline** | Zero-latency unit reviews triggered the millisecond code is written |
| ğŸ§¬ **Fractal Spawning** | Workers recursively spawn sub-agents for infinite structural depth |
| âš¡ **50 Parallel Tasks** | Titan-class densityâ€”run massive swarms without breaking a sweat |
| ğŸ”„ **Non-Stop Recovery** | WAL-powered cognitive persistence; resumes instantly after any crash |
| ğŸ”¥ **Multi-File Ops** | Massive parallel edits with cross-file context integrity |
| ğŸ›¡ï¸ **Self-Scaling** | Dynamic AI-driven concurrency management based on success velocity |
| ğŸ©¹ **Memory Integrity** | 100% reclamation; engineered for sessions with 10k+ iterations |
| ğŸ—ï¸ **Clean-Code Engine**| Enforces industrial modularity and clean architectural patterns |

---


## Error Handling

| Error | What Happens |
|:------|:-------------|
| ğŸ’¥ Tool crash | Inject recovery prompt and retry |
| ğŸš¦ Rate limit hit | Wait and retry with exponential backoff |
| ğŸ“¦ Context overflow | Compact the context automatically |
| â±ï¸ Session timeout | Resume from the last checkpoint |
| ğŸ”¨ Build failure | Fix the issue and retry |


---

## ğŸ¹ Developer's Words

> "We are not just building a tool; we are building an autonomous engineer that can evolve with the project. HPFA and MSVP are the heart of this evolutionâ€”turning AI from a chatbot into a high-performance execution engine."
> 
> [Read the full Developer's Note â†’](docs/DEVELOPERS_NOTE.md)


## ğŸ“„ License

MIT License. [LICENSE](LICENSE)
